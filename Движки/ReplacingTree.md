  **ReplacingMergeTree** - это движок, который позволяет хранить только последнюю версию каждой строки данных, а не все версии. Это полезно в тех случаях, когда вы хотите хранить историю изменений данных, но не хотите хранить все версии.
  Описание документации ClickHouse:

Движок отличается от MergeTree тем, что он удаляет дублирующиеся записи с одинаковым значением ключа сортировки (указанной в секции ORDER BY) при объединении данных.

Процесс удаления дубликатов происходит только во время слияния данных (merge), которые происходят в фоновом режиме и не поддаются контролю пользователей. Большая часть данных может остаться необработанной во время слияния. Хотя пользователь может вызвать процесс слияния вручную, используя команду OPTIMIZE, но не стоит полагаться на этот метод, так как он требует чтения и записи большого объема данных и может быть затратным.
```
CREATE TABLE rm_table
(
    key Int64,
    someCol String,
    eventTime DateTime
)
ENGINE = ReplacingMergeTree
ORDER BY key;
```
Вставим данные
```
INSERT INTO rm_table Values (1, 'first', '2020-01-01 01:01:01');
INSERT INTO rm_table Values (1, 'second', '2020-01-01 00:00:00');
```

Как можно заметить ClickHouse схлопнул данные в одну строку. Зачем нам может понадобиться данная таблица? Основное применение из моей практики:

Первый способ применения, мы организуем поток событий из мобильного приложения в ClickHouse, и часть данных может дублироваться, почему? Например на клиенте происходят сбои, тогда мы можем отправить несколько одинаковых событий вместе, здесь данный движок может помочь.

Второй способ применения, мы выгружаем каждый день полный слепок данных из реляционной базы данных, большая часть строк будет повторяться, тогда мы можем применить данный движок чтобы снизить количество повторяемых данных, да, полностью избежать дублирования мы не сможем, однако часть событий будет удалена, что позволит снизить количество данных для обработки.
